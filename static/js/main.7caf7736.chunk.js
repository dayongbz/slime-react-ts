(this["webpackJsonpslime-react-ts"]=this["webpackJsonpslime-react-ts"]||[]).push([[0],{175:function(e,t,n){e.exports=n(377)},374:function(e,t,n){},375:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){"use strict";n.r(t);n(176),n(185);var c=n(2),i=n.n(c),a=n(174),r=n.n(a),o=(n(374),n(50)),s=n(82),u=n(81),m=n(17),d=(n(375),n(376),Object(c.memo)((function(e){var t=e.ctx,n=e.size,a=e.name,r=e.wrapperSize,s=e.event,u=Object(c.useState)([]),m=Object(o.a)(u,2),l=m[0],h=m[1],f=Object(c.useRef)(null),p=function(){var e,t,c;(null===(e=f.current)||void 0===e?void 0:e.classList.contains("dot"))&&n/2>=5&&(null===(t=f.current)||void 0===t||t.classList.remove("dot"),null===(c=f.current)||void 0===c||c.classList.add("wrapper"),h([1,2,3,4]))};return Object(c.useEffect)((function(){if(f.current&&t&&r){var e=f.current,n=e.offsetLeft+e.offsetWidth/2,c=e.offsetTop+e.offsetHeight/2;n=n<0?0:n>=r[0]?r[0]-1:n,c=c<0?0:c>=r[1]?r[1]-1:c;var i=t.getImageData(n,c,1,1).data;e.style.backgroundColor="rgb(".concat(i[0],",").concat(i[1],",").concat(i[2],")")}}),[t,a,r]),Object(c.useEffect)((function(){var e=f.current;null===e||void 0===e||e.addEventListener("mouseenter",p,{once:!0}),null===e||void 0===e||e.addEventListener("division",p,{once:!0})}),[]),i.a.createElement("div",{ref:f,className:"dot",style:{width:n,height:n}},l.map((function(e){return i.a.createElement(d,{size:n/2,key:e.toString(),ctx:t,name:a,event:s,wrapperSize:r})})))}))),l=d,h=function(e,t){var n=e.width,c=e.height,i=Object(o.a)(t,2),a=i[0],r=i[1],s=n>=c?n/c:c/n,u={width:0,height:0};return a-=20,r=r-20-125,n>=c?(u.width=a,u.height=a/s,u.height>r&&(u.width=a-(u.height-r)*s,u.height=r)):(u.width=r/s,u.height=r,u.width>a&&(u.height=r-(u.width-a)*s,u.width=a)),{width:Math.floor(u.width),height:Math.floor(u.height)}},f=Object(c.memo)((function(e){var t=e.name,n=e.screenSize,a=e.dispatch,r=Object(c.useRef)(null),o=Object(c.useRef)(null),s=function(e,t,n,c){var i=e.getContext("2d");return e.width=n,e.height=c,i.drawImage(t,0,0,n,c),i};return Object(c.useEffect)((function(){if(r.current&&o.current){var e=r.current,c=o.current,i=h(c,n),u=s(e,c,i.width,i.height);a({type:"SET_IMG_CTX",name:t,ctx:u,img:c})}}),[n,t]),i.a.createElement("div",{className:"".concat(t,"-wrapper")},i.a.createElement("img",{ref:o,onLoad:function(e){if(r.current&&e.target){var c=r.current,i=e.target,o=h(i,n),u=s(c,i,o.width,o.height);a({type:"SET_IMG_CTX",name:t,ctx:u,img:i})}},className:t,alt:t,src:"./img/".concat(t,".jpg")}),i.a.createElement("canvas",{ref:r,className:t}))})),p=Object(c.memo)((function(e){var t=e.member,n=e.screenSize,c=e.dispatch;return i.a.createElement("div",{id:"canvas-wrapper"},t.map((function(e){return i.a.createElement(f,{name:e,key:e,screenSize:n,dispatch:c})})))})),E=Object(c.memo)((function(e){var t=e.name,n=e.dispatch,c=e.select;return i.a.createElement("div",{onClick:function(e){c||n({type:"SET_INIT_DOTS_COUNT",initDotsCount:[]}),n({type:"SET_NAME",name:t})},className:c?"profile selected":"profile",style:{backgroundImage:"url(./img/".concat(t,".jpg)")}})})),g=Object(c.memo)((function(e){var t=e.member,n=e.dispatch,c=e.name;return i.a.createElement("div",{id:"profile-wrapper"},i.a.createElement("div",{id:"profile-slide"},t.map((function(e){return i.a.createElement(E,{name:e,key:e,dispatch:n,select:e===c})}))))})),v=function(e,t){var n=e.height;return 2*Math.ceil(n/t)},b={name:"kimchaewon",imgCtx:{},dotSize:0,screenSize:[0,0],dotWrapperSize:[0,0],initDotsCount:[]},O=function(e,t){switch(t.type){case"SET_NAME":return Object(m.a)(Object(m.a)({},e),{},{name:t.name});case"SET_IMG_CTX":return Object(m.a)(Object(m.a)({},e),{},{imgCtx:Object(m.a)(Object(m.a)({},e.imgCtx),{},Object(u.a)({},t.name,{ctx:t.ctx,img:t.img}))});case"SET_DOT_SIZE":return Object(m.a)(Object(m.a)({},e),{},{dotSize:t.dotSize});case"SET_SCREEN_SIZE":return Object(m.a)(Object(m.a)({},e),{},{screenSize:Object(s.a)(t.size)});case"SET_DOT_WRAPPER_SIZE":return Object(m.a)(Object(m.a)({},e),{},{dotWrapperSize:Object(s.a)(t.size)});case"SET_INIT_DOTS_COUNT":return Object(m.a)(Object(m.a)({},e),{},{initDotsCount:Object(s.a)(t.initDotsCount)});default:return e}},S=Object(c.memo)((function(){var e=Object(c.useReducer)(O,b),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useRef)(["kwoneunbi","sakura","kanghyewon","choiyena","leechaeyeon","kimchaewon","kimminju","nako","hitomi","joyuri","anyujin","jangwonyoung"]),s=Object(c.useRef)(null),u=Object(c.useRef)(new CustomEvent("division")),m=function(){a({type:"SET_SCREEN_SIZE",size:[document.documentElement.clientWidth,document.documentElement.clientHeight]})},d=function(e){var t=document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY);t&&t.classList.contains("dot")&&(t.dispatchEvent(u.current),t.classList.add("hello"))};return Object(c.useEffect)((function(){if(n.imgCtx[n.name]){var e=n.imgCtx[n.name].img,t=h(e,n.screenSize),c=v(t,t.width/2);a({type:"SET_DOT_SIZE",dotSize:t.width/2}),function(e,t){if(s.current){var n=s.current;n.style.width="".concat(e,"px"),n.style.height="".concat(t,"px"),a({type:"SET_DOT_WRAPPER_SIZE",size:[e,t]})}}(t.width,t.height),function(e){for(var t=[],n=0;n<e;n++)t.push(n);a({type:"SET_INIT_DOTS_COUNT",initDotsCount:t})}(c)}}),[n.imgCtx[n.name],n.name,n.screenSize]),Object(c.useEffect)((function(){m(),window.addEventListener("resize",m),window.addEventListener("touchmove",d)}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(p,{member:r.current,screenSize:n.screenSize,dispatch:a}),i.a.createElement("div",{id:"main-wrapper",style:{height:"".concat(document.documentElement.clientHeight-125,"px")}},i.a.createElement("div",{ref:s,id:"dot-wrapper"},n.initDotsCount.map((function(e){return i.a.createElement(l,{size:n.dotSize,ctx:n.imgCtx[n.name].ctx,key:e.toString(),name:n.name,event:u.current,wrapperSize:n.dotWrapperSize})})))),i.a.createElement(g,{member:r.current,dispatch:a,name:n.name}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[175,1,2]]]);
//# sourceMappingURL=main.7caf7736.chunk.js.map