(this["webpackJsonpslime-react-ts"]=this["webpackJsonpslime-react-ts"]||[]).push([[0],{175:function(e){e.exports=JSON.parse('{"names":["izone"],"izone":{"member":["kwoneunbi","sakura","kanghyewon","choiyena","leechaeyeon","kimchaewon","kimminju","nako","hitomi","joyuri","anyujin","jangwonyoung"],"imgs":{"kwoneunbi":["0.jpg"],"sakura":["0.jpg"],"kanghyewon":["0.jpg"],"choiyena":["0.jpg"],"leechaeyeon":["0.jpg"],"kimchaewon":["0.jpg","1.jpg","2.jpg"],"kimminju":["0.jpg"],"nako":["0.jpg"],"hitomi":["0.jpg"],"joyuri":["0.jpg"],"anyujin":["0.jpg"],"jangwonyoung":["0.jpg"]}}}')},176:function(e,t,n){e.exports=n(378)},375:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){},378:function(e,t,n){"use strict";n.r(t);n(177),n(186);var a=n(1),c=n.n(a),r=n(174),o=n.n(r),i=(n(375),n(43)),s=n(82),u=n(33),m=n(4),l=(n(376),n(377),Object(a.memo)((function(e){var t=e.ctx,n=e.wrapperSize,r=e.event,o=e.depth,s=e.maxDepth,u=Object(a.useState)([]),m=Object(i.a)(u,2),p=m[0],d=m[1],g=Object(a.useRef)(null),E=Object(a.useCallback)((function(){var e,t;null===(e=g.current)||void 0===e||e.classList.remove("dot"),null===(t=g.current)||void 0===t||t.classList.add("wrapper"),d([1,2,3,4])}),[]);return Object(a.useEffect)((function(){var e=g.current;return o===s&&(null===e||void 0===e?void 0:e.classList.contains("wrapper"))&&(d([]),e.classList.add("dot"),e.classList.remove("wrapper")),e&&e.classList.contains("dot")&&o<s&&(e.addEventListener("mouseenter",E,{once:!0}),e.addEventListener("division",E,{once:!0})),function(){var e=g.current;e&&e.classList.contains("dot")&&o<s&&(e.removeEventListener("mouseenter",E),e.removeEventListener("division",E))}}),[E,o,s]),Object(a.useEffect)((function(){if(g.current&&g.current.classList.contains("dot")&&t&&n){var e=g.current,a=e.offsetLeft+e.offsetWidth/2,c=e.offsetTop+e.offsetHeight/2;a=a<0?0:a>=n[0]?n[0]-1:a,c=c<0?0:c>=n[1]?n[1]-1:c;var r=t.getImageData(a,c,1,1).data;e.style.backgroundColor="rgb(".concat(r[0],",").concat(r[1],",").concat(r[2],")")}}),[t,n]),c.a.createElement("div",{ref:g,className:"dot"},p&&p.map((function(e){return c.a.createElement(l,{key:e.toString(),ctx:t,event:r,wrapperSize:n,depth:o+1,maxDepth:s})})))}))),p=l,d=function(e,t){var n=e.width,a=e.height,c=Object(i.a)(t,2),r=c[0],o=c[1],s=n>=a?n/a:a/n,u={width:0,height:0};return r-=20,o=o-20-(document.documentElement.clientWidth>600?125:80),n>=a?(u.width=r,u.height=r/s,u.height>o&&(u.width=r-(u.height-o)*s,u.height=o)):(u.width=o/s,u.height=o,u.width>r&&(u.height=o-(u.width-r)*s,u.width=r)),{width:Math.floor(u.width),height:Math.floor(u.height)}},g=function(e,t){var n=e.height;return 2*Math.ceil(n/t)},E=Object(a.memo)((function(e){var t=e.title,n=e.description,a=e.dispatch,r=function(){a({type:"CANCEL_MODAL_POPUP"})};return c.a.createElement("div",{id:"modal-popup-wrapper"},c.a.createElement("div",{className:"modal-popup"},c.a.createElement("div",{className:"title-wrapper"},c.a.createElement("p",{className:"title"},t)),c.a.createElement("div",{className:"description-wrapper"},c.a.createElement("p",{className:"sub"},n)),c.a.createElement("div",{className:"button-wrapper"},c.a.createElement("input",{type:"button",value:"\uc608",onClick:function(){a({type:"OK_MODAL_POPUP"})}}),c.a.createElement("input",{type:"button",value:"\uc544\ub2c8\uc624",onClick:r}))),c.a.createElement("div",{className:"background",onClick:r}))})),h=Object(a.memo)((function(e){var t=e.name,n=e.group,r=e.img,o=e.screenSize,i=e.dispatch,s=Object(a.useRef)(null),u=Object(a.useRef)(null),m=function(e,t,n,a){var c=e.getContext("2d");return e.width=n,e.height=a,c.drawImage(t,0,0,n,a),c};return Object(a.useEffect)((function(){if(s.current&&u.current){var e=s.current,a=u.current,c=d(a,o),l=m(e,a,c.width,c.height);i({type:"SET_IMG_CTX",name:"".concat(n,"/").concat(t,"/").concat(r),ctx:l,img:a})}}),[i,n,r,t,o]),c.a.createElement("div",{className:"".concat(t,"-wrapper")},c.a.createElement("img",{ref:u,onLoad:function(e){if(s.current&&e.target){var a=s.current,c=e.target,u=d(c,o),l=m(a,c,u.width,u.height);i({type:"SET_IMG_CTX_ARR",name:"".concat(n,"/").concat(t,"/").concat(r),ctx:l,img:c})}},className:"name/".concat(r," none"),alt:t,src:"./img/".concat(n,"/").concat(t,"/").concat(r)}),c.a.createElement("canvas",{ref:s,className:t}))})),f=Object(a.memo)((function(e){var t=e.name,n=e.dispatch,r=e.type,o=e.group,s=e.img,u=e.sub,m=e.depth,l=e.selected,p=(e.imgs,Object(a.useState)(!1)),d=Object(i.a)(p,2),g=d[0],E=d[1];return Object(a.useEffect)((function(){var e=new Image;e.onload=function(){E(!0)},e.src="home"===r?"./img/".concat(o,"/group/0.jpg"):"group"===r?"./img/".concat(o,"/").concat(t,"/0.jpg"):"./img/".concat(o,"/").concat(t,"/").concat(s)}),[r,o,t,s]),c.a.createElement(c.a.Fragment,null,"prev"===r?c.a.createElement("div",{className:"prev",onClick:function(){switch(n({type:"PREV_PROFILE"}),m){case 3:case 2:n({type:"SET_SELECTED_PROFILE",select:"group"});break;case 1:default:n({type:"SET_SELECTED_PROFILE",select:"home"})}}},c.a.createElement("img",{src:"./img/keyboard_arrow_left-white-18dp.svg",alt:"\uc774\uc804\uc73c\ub85c"})):g?c.a.createElement("div",{onClick:function(e){"home"===r&&(n({type:"SET_SELECTED_PROFILE",select:"group"}),n({type:"SET_PROFILE",status:o})),"group"===r&&(n({type:"SET_SELECTED_PROFILE",select:"member"}),n({type:"SET_PROFILE",status:t})),"member"!==r||l||n({type:"SET_MODAL_POPUP",modalPopup:{title:"\uacbd\uace0",description:"\uc9c0\uae08\uae4c\uc9c0 \uc791\uc5c5\ud55c \ub0b4\uc6a9\ub4e4\uc774 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4.",functions:[n,n,n,n,n],args:[{type:"ADD_SELECTED_IMG",name:t,group:o,img:s},{type:"SET_INIT_DOTS_COUNT",initDotsCount:[]},{type:"SET_GROUP",group:o},{type:"SET_NAME",name:t},{type:"SET_IMG",img:s}]}})},className:"home"===r?"profile group":"profile"},c.a.createElement("div",{className:"background",style:"home"===r?{backgroundImage:"url(./img/".concat(o,"/group/0.jpg)")}:"group"===r?{backgroundImage:"url(./img/".concat(o,"/").concat(t,"/0.jpg)")}:{backgroundImage:"url(./img/".concat(o,"/").concat(t,"/").concat(s,")")}}),c.a.createElement("p",{className:"sub"},u)):c.a.createElement("div",{className:"profile loading"},c.a.createElement("img",{src:"./img/loop-white-18dp.svg",alt:"loading"})))})),O={name:"group",dataJson:n(175),group:"izone",img:"0.jpg",selectedProfile:"home",profile:[],selectedImg:[{group:"izone",name:"group",img:"0.jpg"}],imgCtx:null,imgCtxArr:[],screenSize:[],dotWrapperSize:[],initDotsCount:[],modalPopup:[],maxDepth:6},b=function(e,t){switch(t.type){case"SET_PROFILE":return Object(m.a)(Object(m.a)({},e),{},{profile:[].concat(Object(u.a)(e.profile),[t.status])});case"PREV_PROFILE":return Object(m.a)(Object(m.a)({},e),{},{profile:Object(u.a)(e.profile.slice(0,-1))});case"SET_NAME":return Object(m.a)(Object(m.a)({},e),{},{name:t.name});case"SET_GROUP":return Object(m.a)(Object(m.a)({},e),{},{group:t.group});case"SET_IMG":return Object(m.a)(Object(m.a)({},e),{},{img:t.img});case"SET_IMG_CTX_ARR":return Object(m.a)(Object(m.a)({},e),{},{imgCtx:{ctx:t.ctx,img:t.img},imgCtxARR:Object(m.a)(Object(m.a)({},e.imgCtx),{},Object(s.a)({},t.name,{ctx:t.ctx,img:t.img}))});case"SET_SCREEN_SIZE":return Object(m.a)(Object(m.a)({},e),{},{screenSize:Object(u.a)(t.size)});case"SET_DOT_WRAPPER_SIZE":return Object(m.a)(Object(m.a)({},e),{},{dotWrapperSize:Object(u.a)(t.size)});case"SET_INIT_DOTS_COUNT":return Object(m.a)(Object(m.a)({},e),{},{initDotsCount:Object(u.a)(t.initDotsCount)});case"SET_MODAL_POPUP":return Object(m.a)(Object(m.a)({},e),{},{modalPopup:[].concat(Object(u.a)(e.modalPopup),[Object(m.a)({},t.modalPopup)])});case"CANCEL_MODAL_POPUP":return Object(m.a)(Object(m.a)({},e),{},{modalPopup:Object(u.a)(e.modalPopup.slice(1))});case"OK_MODAL_POPUP":for(var n=0;n<e.modalPopup[0].functions.length;n++)e.modalPopup[0].functions[n](e.modalPopup[0].args[n]);return Object(m.a)(Object(m.a)({},e),{},{modalPopup:Object(u.a)(e.modalPopup.slice(1))});case"ADD_SELECTED_IMG":return Object(m.a)(Object(m.a)({},e),{},{selectedImg:[].concat(Object(u.a)(e.selectedImg),[{name:t.name,group:t.group,img:t.img}])});case"SET_MAX_DEPTH":return Object(m.a)(Object(m.a)({},e),{},{maxDepth:t.depth});case"SET_SELECTED_PROFILE":return Object(m.a)(Object(m.a)({},e),{},{selectedProfile:t.select});default:return e}},j=Object(a.memo)((function(){var e=Object(a.useReducer)(b,O),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(a.useRef)(null),s=Object(a.useRef)(null),u=Object(a.useRef)(new CustomEvent("division")),m=Object(a.useRef)(0),l=function(){r({type:"SET_SCREEN_SIZE",size:[document.documentElement.clientWidth,document.documentElement.clientHeight]})},j=function(e){for(var t=[],n=0;n<e.touches.length;n++)t.push(document.elementFromPoint(e.touches[n].clientX,e.touches[n].clientY));for(var a=0;a<t.length;a++){var c=t[a];c&&c.classList.contains("dot")&&(c.dispatchEvent(u.current),c.classList.add("hello"))}};return Object(a.useEffect)((function(){n.screenSize[0]<600?r({type:"SET_MAX_DEPTH",depth:6}):n.screenSize[0]>=600&&r({type:"SET_MAX_DEPTH",depth:7})}),[n.screenSize]),Object(a.useEffect)((function(){if(n.imgCtx){var e=n.imgCtx.img,t=d(e,n.screenSize),a=g(t,t.width/2);!function(e,t){if(o.current&&s.current){var n=o.current,a=s.current;n.style.width="".concat(e,"px"),n.style.height="".concat(t,"px"),a.style.width="".concat(e,"px"),a.style.height="".concat(e,"px"),r({type:"SET_DOT_WRAPPER_SIZE",size:[e,t]})}}(t.width,t.height),function(e){for(var t=[],n=0;n<e;n++)t.push(n);r({type:"SET_INIT_DOTS_COUNT",initDotsCount:t})}(a)}}),[n.screenSize,n.imgCtx]),Object(a.useEffect)((function(){l();window.addEventListener("resize",(function(){m.current&&clearTimeout(m.current),m.current=setTimeout(l,300)})),window.addEventListener("touchmove",j)}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:"canvas-wrapper"},n.selectedImg.map((function(e){return c.a.createElement(h,{name:e.name,group:e.group,img:e.img,key:"".concat(e.group,"/").concat(e.name,"/").concat(e.img),screenSize:n.screenSize,dispatch:r})}))),c.a.createElement("div",{id:"main-wrapper",style:{height:"".concat(document.documentElement.clientHeight-(document.documentElement.clientWidth>600?125:80),"px")}},c.a.createElement("div",{ref:o,id:"dot-wrapper"},c.a.createElement("div",{ref:s,id:"dot-subwrapper"},n.initDotsCount&&n.initDotsCount.map((function(e,t){var a;return c.a.createElement(p,{ctx:null===(a=n.imgCtx)||void 0===a?void 0:a.ctx,key:e.toString(),event:u.current,wrapperSize:n.dotWrapperSize,depth:1,maxDepth:n.maxDepth})}))))),c.a.createElement("div",{id:"profile-wrapper"},c.a.createElement("div",{id:"profile-slide"},"home"!==n.selectedProfile&&c.a.createElement(f,{type:"prev",dispatch:r,depth:n.profile.length}),"home"===n.selectedProfile?n.dataJson.names.map((function(e){return c.a.createElement(f,{group:e,key:e,type:"home",dispatch:r,sub:e})})):"group"===n.selectedProfile?n.dataJson[n.profile[0]].member.map((function(e){return c.a.createElement(f,{group:n.profile[0],name:e,key:e,type:"group",dispatch:r,imgs:n.dataJson[n.profile[0]].imgs[e],sub:e})})):n.dataJson[n.profile[0]].imgs[n.profile[1]].map((function(e){return c.a.createElement(f,{name:n.profile[1],img:e,group:n.profile[0],key:e,type:"member",selected:n.selectedImg[n.selectedImg.length-1].name===n.profile[1]&&n.selectedImg[n.selectedImg.length-1].group===n.profile[0]&&n.selectedImg[n.selectedImg.length-1].img===e,dispatch:r})})))),n.modalPopup?n.modalPopup.map((function(e,t){return c.a.createElement(E,{title:e.title,description:e.description,dispatch:r,key:e.title+t})})):null)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[176,1,2]]]);
//# sourceMappingURL=main.7b6ed54d.chunk.js.map