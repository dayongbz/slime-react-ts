(this["webpackJsonpslime-react-ts"]=this["webpackJsonpslime-react-ts"]||[]).push([[0],{175:function(e,t,n){e.exports=n(377)},374:function(e,t,n){},375:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){"use strict";n.r(t);n(176),n(185);var a=n(1),c=n.n(a),i=n(174),r=n.n(i),o=(n(374),n(51)),u=n(45),s=n(82),m=n(13),l=(n(375),n(376),Object(a.memo)((function(e){var t=e.ctx,n=e.name,i=e.wrapperSize,r=e.event,u=e.depth,s=Object(a.useState)([]),m=Object(o.a)(s,2),d=m[0],p=m[1],h=Object(a.useRef)(null),f=Object(a.useCallback)((function(){var e,t,n;(null===(e=h.current)||void 0===e?void 0:e.classList.contains("dot"))&&u<6&&(null===(t=h.current)||void 0===t||t.classList.remove("dot"),null===(n=h.current)||void 0===n||n.classList.add("wrapper"),p([1,2,3,4]))}),[u]);return Object(a.useEffect)((function(){if(h.current&&t&&i){var e=h.current,n=e.offsetLeft+e.offsetWidth/2,a=e.offsetTop+e.offsetHeight/2;n=n<0?0:n>=i[0]?i[0]-1:n,a=a<0?0:a>=i[1]?i[1]-1:a;var c=t.getImageData(n,a,1,1).data;e.style.backgroundColor="rgb(".concat(c[0],",").concat(c[1],",").concat(c[2],")")}}),[t,n,i]),Object(a.useEffect)((function(){var e=h.current;null===e||void 0===e||e.addEventListener("mouseenter",f,{once:!0}),null===e||void 0===e||e.addEventListener("division",f,{once:!0})}),[f]),c.a.createElement("div",{ref:h,className:"dot"},d.map((function(e){return c.a.createElement(l,{key:e.toString(),ctx:t,name:n,event:r,wrapperSize:i,depth:u+1})})))}))),d=l,p=function(e,t){var n=e.width,a=e.height,c=Object(o.a)(t,2),i=c[0],r=c[1],u=n>=a?n/a:a/n,s={width:0,height:0};return i-=20,r=r-20-125,n>=a?(s.width=i,s.height=i/u,s.height>r&&(s.width=i-(s.height-r)*u,s.height=r)):(s.width=r/u,s.height=r,s.width>i&&(s.height=r-(s.width-i)*u,s.width=i)),{width:Math.floor(s.width),height:Math.floor(s.height)}},h=Object(a.memo)((function(e){var t=e.name,n=e.screenSize,i=e.dispatch,r=Object(a.useRef)(null),o=Object(a.useRef)(null),u=function(e,t,n,a){var c=e.getContext("2d");return e.width=n,e.height=a,c.drawImage(t,0,0,n,a),c};return Object(a.useEffect)((function(){if(r.current&&o.current){var e=r.current,a=o.current,c=p(a,n),s=u(e,a,c.width,c.height);i({type:"SET_IMG_CTX",name:t,ctx:s,img:a})}}),[n,t]),c.a.createElement("div",{className:"".concat(t,"-wrapper")},c.a.createElement("img",{ref:o,onLoad:function(e){if(r.current&&e.target){var a=r.current,c=e.target,o=p(c,n),s=u(a,c,o.width,o.height);i({type:"SET_IMG_CTX",name:t,ctx:s,img:c})}},className:t,alt:t,src:"./img/".concat(t,".jpg")}),c.a.createElement("canvas",{ref:r,className:t}))})),f=Object(a.memo)((function(e){var t=e.member,n=e.screenSize,a=e.dispatch;return c.a.createElement("div",{id:"canvas-wrapper"},t.map((function(e){return c.a.createElement(h,{name:e,key:e,screenSize:n,dispatch:a})})))})),E=Object(a.memo)((function(e){var t=e.name,n=e.dispatch,a=e.select;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{onClick:function(e){a||n({type:"SET_MODAL_POPUP",modalPopup:{title:"\uacbd\uace0",description:"\uc9c0\uae08\uae4c\uc9c0 \uc791\uc5c5\ud55c \ub0b4\uc6a9\ub4e4\uc774 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4.",functions:[n,n],args:[{type:"SET_INIT_DOTS_COUNT",initDotsCount:[]},{type:"SET_NAME",name:t}]}})},className:a?"profile selected":"profile",style:{backgroundImage:"url(./img/".concat(t,".jpg)")}}))})),O=Object(a.memo)((function(e){var t=e.member,n=e.dispatch,a=e.name;return c.a.createElement("div",{id:"profile-wrapper"},c.a.createElement("div",{id:"profile-slide"},t.map((function(e){return c.a.createElement(E,{name:e,key:e,dispatch:n,select:e===a})}))))})),b=function(e,t){var n=e.height;return 2*Math.ceil(n/t)},g=Object(a.memo)((function(e){var t=e.title,n=e.description,a=e.dispatch,i=function(){a({type:"CANCEL_MODAL_POPUP"})};return c.a.createElement("div",{id:"modal-popup-wrapper"},c.a.createElement("div",{className:"modal-popup"},c.a.createElement("div",{className:"title-wrapper"},c.a.createElement("p",{className:"title"},t)),c.a.createElement("div",{className:"description-wrapper"},c.a.createElement("p",{className:"sub"},n)),c.a.createElement("div",{className:"button-wrapper"},c.a.createElement("input",{type:"button",value:"\uc608",onClick:function(){a({type:"OK_MODAL_POPUP"})}}),c.a.createElement("input",{type:"button",value:"\uc544\ub2c8\uc624",onClick:i}))),c.a.createElement("div",{className:"background",onClick:i}))})),v={name:"kimchaewon",imgCtx:{},screenSize:[0,0],dotWrapperSize:[0,0],initDotsCount:[],modalPopup:[]},j=function(e,t){switch(t.type){case"SET_NAME":return Object(m.a)(Object(m.a)({},e),{},{name:t.name});case"SET_IMG_CTX":return Object(m.a)(Object(m.a)({},e),{},{imgCtx:Object(m.a)(Object(m.a)({},e.imgCtx),{},Object(s.a)({},t.name,{ctx:t.ctx,img:t.img}))});case"SET_SCREEN_SIZE":return Object(m.a)(Object(m.a)({},e),{},{screenSize:Object(u.a)(t.size)});case"SET_DOT_WRAPPER_SIZE":return Object(m.a)(Object(m.a)({},e),{},{dotWrapperSize:Object(u.a)(t.size)});case"SET_INIT_DOTS_COUNT":return Object(m.a)(Object(m.a)({},e),{},{initDotsCount:Object(u.a)(t.initDotsCount)});case"SET_MODAL_POPUP":return Object(m.a)(Object(m.a)({},e),{},{modalPopup:[].concat(Object(u.a)(e.modalPopup),[Object(m.a)({},t.modalPopup)])});case"CANCEL_MODAL_POPUP":return Object(m.a)(Object(m.a)({},e),{},{modalPopup:Object(u.a)(e.modalPopup.slice(1))});case"OK_MODAL_POPUP":for(var n=0;n<e.modalPopup[0].functions.length;n++)e.modalPopup[0].functions[n](e.modalPopup[0].args[n]);return Object(m.a)(Object(m.a)({},e),{},{modalPopup:Object(u.a)(e.modalPopup.slice(1))});case"SET_MIN_SIZE":return Object(m.a)(Object(m.a)({},e),{},{minSize:t.minSize});default:return e}},w=Object(a.memo)((function(){var e=Object(a.useReducer)(j,v),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useRef)(["kwoneunbi","sakura","kanghyewon","choiyena","leechaeyeon","kimchaewon","kimminju","nako","hitomi","joyuri","anyujin","jangwonyoung"]),u=Object(a.useRef)(null),s=Object(a.useRef)(null),m=Object(a.useRef)(new CustomEvent("division")),l=function(){i({type:"SET_SCREEN_SIZE",size:[document.documentElement.clientWidth,document.documentElement.clientHeight]})},h=function(e){for(var t=[],n=0;n<e.touches.length;n++)t.push(document.elementFromPoint(e.touches[n].clientX,e.touches[n].clientY));for(var a=0;a<t.length;a++){var c=t[a];c&&c.classList.contains("dot")&&(c.dispatchEvent(m.current),c.classList.add("hello"))}};return Object(a.useEffect)((function(){if(n.imgCtx[n.name]){var e=n.imgCtx[n.name].img,t=p(e,n.screenSize),a=b(t,t.width/2);!function(e,t){if(u.current&&s.current){var n=u.current,a=s.current;n.style.width="".concat(e,"px"),n.style.height="".concat(t,"px"),a.style.width="".concat(e,"px"),a.style.height="".concat(e,"px"),i({type:"SET_DOT_WRAPPER_SIZE",size:[e,t]})}}(t.width,t.height),function(e){for(var t=[],n=0;n<e;n++)t.push(n);i({type:"SET_INIT_DOTS_COUNT",initDotsCount:t})}(a)}}),[n.imgCtx[n.name],n.name,n.screenSize]),Object(a.useEffect)((function(){l(),window.addEventListener("resize",l),window.addEventListener("touchmove",h)}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{member:r.current,screenSize:n.screenSize,dispatch:i}),c.a.createElement("div",{id:"main-wrapper",style:{height:"".concat(document.documentElement.clientHeight-125,"px")}},c.a.createElement("div",{ref:u,id:"dot-wrapper"},c.a.createElement("div",{ref:s,id:"dot-subwrapper"},n.initDotsCount.map((function(e,t){return c.a.createElement(d,{ctx:n.imgCtx[n.name].ctx,key:e.toString(),name:n.name,index:t,event:m.current,wrapperSize:n.dotWrapperSize,depth:1})}))))),c.a.createElement(O,{member:r.current,dispatch:i,name:n.name}),n.modalPopup?n.modalPopup.map((function(e,t){return c.a.createElement(g,{title:e.title,description:e.description,dispatch:i,key:e.title+t})})):null)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[175,1,2]]]);
//# sourceMappingURL=main.42c24722.chunk.js.map